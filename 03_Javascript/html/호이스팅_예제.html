<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript í˜¸ì´ìŠ¤íŒ… ì˜ˆì œ</title>
  <style>
    body {
      font-family: 'Malgun Gothic', sans-serif;
      line-height: 1.6;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    h1 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }
    h2 {
      color: #34495e;
      margin-top: 30px;
    }
    pre {
      background-color: #ecf0f1;
      padding: 15px;
      border-radius: 5px;
      border-left: 4px solid #3498db;
      overflow-x: auto;
      white-space: pre-wrap;
    }
    code {
      background-color: #e8e8e8;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Consolas', 'Courier New', monospace;
    }
    .example {
      background-color: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .note {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }
    .warning {
      background-color: #f8d7da;
      border-left: 4px solid #dc3545;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }
    .success {
      background-color: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }
    button {
      background-color: #3498db;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
    }
    button:hover {
      background-color: #2980b9;
    }
    #console {
      background-color: #2c3e50;
      color: #ecf0f1;
      padding: 15px;
      border-radius: 5px;
      font-family: 'Consolas', 'Courier New', monospace;
      min-height: 200px;
      max-height: 500px;
      overflow-y: auto;
      white-space: pre-wrap;
      margin-top: 20px;
    }
    .console-line {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸš€ JavaScript í˜¸ì´ìŠ¤íŒ…(Hoisting) ì™„ì „ ì •ë³µ</h1>

  <div class="note">
    <strong>ğŸ“Œ í˜¸ì´ìŠ¤íŒ…ì´ë€?</strong><br>
    JavaScriptì—ì„œ ë³€ìˆ˜ ì„ ì–¸ê³¼ í•¨ìˆ˜ ì„ ì–¸ì´ <strong>ìŠ¤ì½”í”„ì˜ ìµœìƒë‹¨ìœ¼ë¡œ ëŒì–´ì˜¬ë ¤ì§€ëŠ” ê²ƒì²˜ëŸ¼</strong> ë™ì‘í•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤.
    ì‹¤ì œë¡œ ì½”ë“œê°€ ì´ë™í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , JavaScript ì—”ì§„ì´ ì‹¤í–‰ ì „ì— ë©”ëª¨ë¦¬ ê³µê°„ì„ ë¨¼ì € í™•ë³´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
  </div>

  <h2>1ï¸âƒ£ varì˜ í˜¸ì´ìŠ¤íŒ…</h2>
  <div class="example">
    <pre><code>console.log(x); // undefined (ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ!)
var x = 10;
console.log(x); // 10</code></pre>
    
    <div class="note">
      <strong>íŠ¹ì§•:</strong>
      <ul>
        <li>ë³€ìˆ˜ ì„ ì–¸ì´ ìŠ¤ì½”í”„ ìµœìƒë‹¨ìœ¼ë¡œ ëŒì–´ì˜¬ë ¤ì§</li>
        <li>ì„ ì–¸ì€ í˜¸ì´ìŠ¤íŒ…ë˜ì§€ë§Œ, ì´ˆê¸°í™”(í• ë‹¹)ëŠ” í˜¸ì´ìŠ¤íŒ…ë˜ì§€ ì•ŠìŒ</li>
        <li>ì„ ì–¸ ì „ ì ‘ê·¼ ì‹œ <code>undefined</code> ë°˜í™˜ (ì—ëŸ¬ ì—†ìŒ)</li>
      </ul>
    </div>

    <div class="warning">
      <strong>âš ï¸ ì‹¤ì œ ë™ì‘ ë°©ì‹:</strong><br>
      <pre><code>var x;              // ì„ ì–¸ì´ ìŠ¤ì½”í”„ ìµœìƒë‹¨ìœ¼ë¡œ ëŒì–´ì˜¬ë ¤ì§ (undefined)
console.log(x);     // undefined ì¶œë ¥
x = 10;             // ì‹¤ì œ í• ë‹¹ì´ ì´ ìœ„ì¹˜ì—ì„œ ì´ë£¨ì–´ì§
console.log(x);     // 10 ì¶œë ¥</code></pre>
    </div>
  </div>

  <h2>2ï¸âƒ£ letê³¼ constì˜ í˜¸ì´ìŠ¤íŒ…</h2>
  <div class="example">
    <div class="note">
      <strong>ì¤‘ìš”í•œ ì‚¬ì‹¤:</strong> <code>let</code>ê³¼ <code>const</code>ë„ í˜¸ì´ìŠ¤íŒ…ë©ë‹ˆë‹¤!<br>
      í•˜ì§€ë§Œ <code>var</code>ì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤.
    </div>

    <pre><code>// console.log(y); // âŒ ReferenceError ë°œìƒ!
let y = 20;</code></pre>

    <div class="success">
      <strong>âœ… TDZ (Temporal Dead Zone) - ì¼ì‹œì  ì‚¬ê°ì§€ëŒ€</strong>
      <ul>
        <li>ë³€ìˆ˜ ì„ ì–¸ì€ í˜¸ì´ìŠ¤íŒ…ë˜ì§€ë§Œ, ì´ˆê¸°í™” ì „ê¹Œì§€ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” êµ¬ê°„</li>
        <li><code>let</code>ê³¼ <code>const</code>ë§Œ TDZì˜ ì˜í–¥ì„ ë°›ìŒ</li>
        <li>ì„ ì–¸ ì „ì— ì ‘ê·¼í•˜ë©´ <code>ReferenceError</code> ë°œìƒ</li>
      </ul>
    </div>

    <pre><code>let y;             // ì„ ì–¸ë§Œ í•¨ (undefinedë¡œ ì´ˆê¸°í™”ë¨)
console.log(y);    // undefined (ì´ì œ ì ‘ê·¼ ê°€ëŠ¥)

y = 20;            // í• ë‹¹
console.log(y);    // 20

// constëŠ” ë°˜ë“œì‹œ ì„ ì–¸ê³¼ ë™ì‹œì— ì´ˆê¸°í™”í•´ì•¼ í•¨
const z = 30;
console.log(z);    // 30</code></pre>
  </div>

  <h2>3ï¸âƒ£ í•¨ìˆ˜ í˜¸ì´ìŠ¤íŒ…</h2>
  <div class="example">
    <h3>í•¨ìˆ˜ ì„ ì–¸ë¬¸ (Function Declaration)</h3>
    <pre><code>sayHello(); // âœ… ì •ìƒ ë™ì‘! (ì„ ì–¸ ì „ì— í˜¸ì¶œ ê°€ëŠ¥)

function sayHello() {
    console.log("ì•ˆë…•í•˜ì„¸ìš”!");
}</code></pre>

    <div class="success">
      <strong>í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ ì™„ì „íˆ í˜¸ì´ìŠ¤íŒ…ë©ë‹ˆë‹¤!</strong><br>
      ì„ ì–¸ê³¼ ë™ì‹œì— í•¨ìˆ˜ ì „ì²´ê°€ í˜¸ì´ìŠ¤íŒ…ë˜ì–´ ì–´ë””ì„œë“  í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    </div>

    <h3>í•¨ìˆ˜ í‘œí˜„ì‹ (Function Expression)</h3>
    <pre><code>// sayGoodbye(); // âŒ TypeError ë°œìƒ!

var sayGoodbye = function() {
    console.log("ì•ˆë…•íˆ ê°€ì„¸ìš”!");
};

sayGoodbye(); // âœ… ì •ìƒ ë™ì‘</code></pre>

    <div class="warning">
      <strong>í•¨ìˆ˜ í‘œí˜„ì‹ì€ ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ… ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.</strong><br>
      <ul>
        <li><code>var</code>ë¡œ ì„ ì–¸: <code>undefined</code>ë¡œ í˜¸ì´ìŠ¤íŒ…</li>
        <li><code>let/const</code>ë¡œ ì„ ì–¸: TDZì— ìˆì–´ ì ‘ê·¼ ë¶ˆê°€</li>
      </ul>
    </div>
  </div>

  <h2>4ï¸âƒ£ var vs let vs const ë¹„êµí‘œ</h2>
  <div class="example">
    <table style="width: 100%; border-collapse: collapse;">
      <tr style="background-color: #3498db; color: white;">
        <th style="padding: 10px; border: 1px solid #ddd;">íŠ¹ì§•</th>
        <th style="padding: 10px; border: 1px solid #ddd;">var</th>
        <th style="padding: 10px; border: 1px solid #ddd;">let</th>
        <th style="padding: 10px; border: 1px solid #ddd;">const</th>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">í˜¸ì´ìŠ¤íŒ…</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… ë¨</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… ë¨</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… ë¨</td>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">ì„ ì–¸ ì „ ì ‘ê·¼</td>
        <td style="padding: 10px; border: 1px solid #ddd;">undefined ë°˜í™˜</td>
        <td style="padding: 10px; border: 1px solid #ddd;">ReferenceError</td>
        <td style="padding: 10px; border: 1px solid #ddd;">ReferenceError</td>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">ìŠ¤ì½”í”„</td>
        <td style="padding: 10px; border: 1px solid #ddd;">í•¨ìˆ˜ ìŠ¤ì½”í”„</td>
        <td style="padding: 10px; border: 1px solid #ddd;">ë¸”ë¡ ìŠ¤ì½”í”„</td>
        <td style="padding: 10px; border: 1px solid #ddd;">ë¸”ë¡ ìŠ¤ì½”í”„</td>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">ì¬ì„ ì–¸</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… ê°€ëŠ¥</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âŒ ë¶ˆê°€</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âŒ ë¶ˆê°€</td>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">ì¬í• ë‹¹</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… ê°€ëŠ¥</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… ê°€ëŠ¥</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âŒ ë¶ˆê°€</td>
      </tr>
    </table>
  </div>

  <h2>5ï¸âƒ£ ì‹¤ì œ ì˜ˆì œ: for ë£¨í”„ì—ì„œì˜ ì°¨ì´</h2>
  <div class="example">
    <h3>âŒ var ì‚¬ìš© ì‹œ (ë¬¸ì œ ë°œìƒ)</h3>
    <pre><code>for (var i = 0; i < 3; i++) {
    setTimeout(function() {
        console.log("i:", i); // ëª¨ë‘ 3ì´ ì¶œë ¥ë¨
    }, 100);
}</code></pre>

    <div class="warning">
      <strong>ë¬¸ì œì :</strong> <code>var</code>ëŠ” í•¨ìˆ˜ ìŠ¤ì½”í”„ì´ë¯€ë¡œ, ë£¨í”„ê°€ ëë‚œ í›„ì˜ <code>i</code> ê°’(3)ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.
    </div>

    <h3>âœ… let ì‚¬ìš© ì‹œ (ì˜¬ë°”ë¥¸ ë™ì‘)</h3>
    <pre><code>for (let j = 0; j < 3; j++) {
    setTimeout(function() {
        console.log("j:", j); // 0, 1, 2ê°€ ì¶œë ¥ë¨
    }, 100);
}</code></pre>

    <div class="success">
      <strong>í•´ê²°ì±…:</strong> <code>let</code>ì€ ë¸”ë¡ ìŠ¤ì½”í”„ì´ë¯€ë¡œ, ê° ë£¨í”„ ë°˜ë³µë§ˆë‹¤ ìƒˆë¡œìš´ <code>j</code> ë³€ìˆ˜ê°€ ìƒì„±ë©ë‹ˆë‹¤.
    </div>
  </div>

  <h2>6ï¸âƒ£ í˜¸ì´ìŠ¤íŒ… ìš°ì„ ìˆœìœ„</h2>
  <div class="example">
    <ol>
      <li><strong>í•¨ìˆ˜ ì„ ì–¸ë¬¸</strong> - ê°€ì¥ ë¨¼ì € í˜¸ì´ìŠ¤íŒ… (í•¨ìˆ˜ ì „ì²´)</li>
      <li><strong>var ë³€ìˆ˜ ì„ ì–¸</strong> - undefinedë¡œ ì´ˆê¸°í™”ë˜ì–´ í˜¸ì´ìŠ¤íŒ…</li>
      <li><strong>let/const ë³€ìˆ˜ ì„ ì–¸</strong> - TDZì— ìˆìŒ (ì„ ì–¸ì€ í˜¸ì´ìŠ¤íŒ…ë˜ì§€ë§Œ ì ‘ê·¼ ë¶ˆê°€)</li>
      <li><strong>í•¨ìˆ˜ í‘œí˜„ì‹</strong> - ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ… ê·œì¹™ ë”°ë¦„</li>
    </ol>
  </div>

  <h2>7ï¸âƒ£ ì‹¤ì „ ì½”ë“œ ì‹¤í–‰</h2>
  <div class="example">
    <button onclick="runExamples()">ì˜ˆì œ ì½”ë“œ ì‹¤í–‰í•˜ê¸°</button>
    <button onclick="clearConsole()">ì½˜ì†” ì§€ìš°ê¸°</button>
    <div id="console"></div>
  </div>

  <h2>8ï¸âƒ£ ì •ë¦¬</h2>
  <div class="example">
    <div class="success">
      <strong>âœ… í•µì‹¬ ìš”ì•½:</strong>
      <ul>
        <li>ëª¨ë“  ë³€ìˆ˜ ì„ ì–¸(var, let, const)ì€ í˜¸ì´ìŠ¤íŒ…ë©ë‹ˆë‹¤</li>
        <li><code>var</code>: ì„ ì–¸ ì „ ì ‘ê·¼ ì‹œ <code>undefined</code> ë°˜í™˜</li>
        <li><code>let/const</code>: ì„ ì–¸ ì „ ì ‘ê·¼ ì‹œ <code>ReferenceError</code> ë°œìƒ (TDZ)</li>
        <li>í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ ì™„ì „íˆ í˜¸ì´ìŠ¤íŒ…ë˜ì–´ ì–´ë””ì„œë“  í˜¸ì¶œ ê°€ëŠ¥</li>
        <li>í•¨ìˆ˜ í‘œí˜„ì‹ì€ ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ… ê·œì¹™ì„ ë”°ë¦„</li>
        <li><strong>ëª¨ë˜ JavaScriptì—ì„œëŠ” var ëŒ€ì‹  let/const ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤!</strong></li>
      </ul>
    </div>
  </div>

  <script>
    const consoleDiv = document.getElementById('console');
    
    function log(message) {
      const line = document.createElement('div');
      line.className = 'console-line';
      line.textContent = message;
      consoleDiv.appendChild(line);
      console.log(message);
      consoleDiv.scrollTop = consoleDiv.scrollHeight;
    }

    function clearConsole() {
      consoleDiv.innerHTML = '';
      console.clear();
      log('ì½˜ì†”ì´ ì§€ì›Œì¡ŒìŠµë‹ˆë‹¤.');
    }

    function runExamples() {
      clearConsole();
      log('========== í˜¸ì´ìŠ¤íŒ… ì˜ˆì œ ì‹¤í–‰ ==========\n');
      
      // 1. var í˜¸ì´ìŠ¤íŒ…
      log('--- 1. varì˜ í˜¸ì´ìŠ¤íŒ… ---');
      try {
        log('xì˜ ê°’: ' + typeof x !== 'undefined' ? x : 'undefined');
        var x = 10;
        log('xì˜ ê°’: ' + x);
      } catch (e) {
        log('ì—ëŸ¬: ' + e.message);
      }
      
      log('\n--- 2. letì˜ í˜¸ì´ìŠ¤íŒ… (TDZ) ---');
      try {
        // let yê°€ ì„ ì–¸ë˜ê¸° ì „ì— ì ‘ê·¼ ì‹œë„
        log('y ì ‘ê·¼ ì‹œë„ ì¤‘...');
        if (typeof y === 'undefined') {
          let y = 20;
          log('y ì„ ì–¸ ë° ì´ˆê¸°í™”: ' + y);
        }
      } catch (e) {
        log('ì—ëŸ¬: ' + e.message);
      }
      
      log('\n--- 3. í•¨ìˆ˜ ì„ ì–¸ë¬¸ í˜¸ì´ìŠ¤íŒ… ---');
      log(hoistedFunc()); // ì„ ì–¸ ì „ì— í˜¸ì¶œ ê°€ëŠ¥
      
      function hoistedFunc() {
        return 'í•¨ìˆ˜ ì„ ì–¸ë¬¸ì´ í˜¸ì´ìŠ¤íŒ…ë˜ì—ˆìŠµë‹ˆë‹¤!';
      }
      
      log('\n--- 4. í•¨ìˆ˜ í‘œí˜„ì‹ (var) ---');
      try {
        log('sayHello íƒ€ì…: ' + typeof sayHello);
        var sayHello = function() {
          return 'í•¨ìˆ˜ í‘œí˜„ì‹ì…ë‹ˆë‹¤.';
        };
        log(sayHello());
      } catch (e) {
        log('ì—ëŸ¬: ' + e.message);
      }
      
      log('\n--- 5. for ë£¨í”„ì—ì„œì˜ ì°¨ì´ ---');
      log('var ì‚¬ìš© ì‹œ:');
      for (var i = 0; i < 3; i++) {
        setTimeout(function() {
          log('var i: ' + i);
        }, 100 * (i + 1));
      }
      
      setTimeout(() => {
        log('\nlet ì‚¬ìš© ì‹œ:');
        for (let j = 0; j < 3; j++) {
          setTimeout(function() {
            log('let j: ' + j);
          }, 100 * (j + 1) + 500);
        }
      }, 500);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ë©”ì‹œì§€
    window.onload = function() {
      log('í˜¸ì´ìŠ¤íŒ… ì˜ˆì œ í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');
      log('ìœ„ì˜ "ì˜ˆì œ ì½”ë“œ ì‹¤í–‰í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì˜ˆì œë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.');
    };
  </script>
</body>
</html>

